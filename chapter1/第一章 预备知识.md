# 第一章 预备知识

**C++融合了3种不同的编程方式：**

- C语言代表的<font color='cornflowerblue'>过程性语言</font>
- C++在C语言基础上添加的类代表的<font color='cornflowerblue'>面向对象语言</font>
- C++模板支持的<font color='cornflowerblue'>泛型编程</font>



下面分别介绍这3种编程方式：

1. C语言编程原理

    > 一般来说，计算机语言要处理两个概念——<font color='red'>数据和算法</font>。<font color='orange'>数据是程序使用和处理的信息，而算法是程序使用的方法</font>（参见图1.1）。C语言与当前最主流的语言一样，在最初面世时也是<font color='cornflowerblue'>过程性（procedural）语言</font>，这意味着它<font color='cornflowerblue'>强调的是编程的算法方面</font>。从概念上说，过程化编程首先要确定计算机应采取的操作，然后使用编程语言来实现这些操作。程序命令计算机按一系列流程生成特定的结果，就像菜谱指定了厨师做蛋糕时应遵循的一系列步骤一样。 随着程序规模的扩大，早期的程序语言（如FORTRAN和BASIC）都会遇到组织方面的问题。例如，程序经常使用分支语句，根据某种测试的结果，执行一组或另一组指令。很多旧式程序的执行路径很混乱（被称为“意大利面条式编程”），几乎不可能通过阅读程序来理解它，修改这种程序简直是一场灾难。为了解决这种问题，计算机科学家开发了一种更有序的编程方法——<font color='cornflowerblue'>结构化编程（structured programming）</font>。<font color='cornflowerblue'>C语言具有使用这种方法的特性。</font>例如，结构化编程将分支（决定接下来应执行哪个指令）限制为一小组行为良好的结构。C语言的词汇表中就包含了这些结构（for循环、while循环、do while循环和if else语句）。 另一个新原则是自顶向下（top-down）的设计。在C语言中，其理念是将大型程序分解成小型、便于管理的任务。如果其中的一项任务仍然过大，则将它分解为更小的任务。这一过程将一直持续下去，直到将程序划分为小型的、易于编写的模块（整理一下书房。先整理桌子、桌面、档案柜，然后整理书架。好，先从桌子开始，然后整理每个抽屉，从中间的那个抽屉开始整理。也许我都可以管理这项任务）。C语言的设计有助于使用这种方法，它鼓励程序员开发程序单元（函数）来表示各个任务模块。如上所述，<font color='red'>结构化编程技术反映了过程性编程的思想，根据执行的操作来构思一个程序。</font>

    **图1.1 数据+算法=程序：**

    ![image-20200714211658649](C:\Users\Kenny\AppData\Roaming\Typora\typora-user-images\image-20200714211658649.png)



2. 面向对象编程

    > 虽然结构化编程的理念提高了程序的清晰度、可靠性，并使之便于维护，<font color='red'>但它在编写大型程序时，仍面临着挑战。</font>为应付这种挑战，OOP提供了一种新方法。<font color='red'>与强调算法的过程性编程不同的是，OOP强调的是数据。</font><font color='cornflowerblue'>OOP不像过程性编程那样，试图使问题满足语言的过程性方法，而是试图让语言来满足问题的要求。</font><font color='cornflowerblue'>其理念是设计与问题的本质特性相对应的数据格式。</font> <font color='orange'>在C++中，类是一种规范，它描述了这种新型数据格式，对象是根据这种规范构造的特定数据结构。</font>例如，类可以描述公司管理人员的基本特征（姓名、头衔、工资、特长等），而对象则代表特定的管理人员（Guilford Sheepblat、副总裁、$925 000、知道如何恢复Windows注册表）。<font color='cornflowerblue'>通常，类规定了可使用哪些数据来表示对象以及可以对这些数据执行哪些操作。</font>例如，假设正在开发一个能够绘制矩形的计算机绘图程序，则可以定义一个描述矩形的类。定义的数据部分应包括顶点的位置、长和宽、4条边的颜色和样式、矩形内部的填充颜色和图案等；定义的操作部分可以包括移动、改变大小、旋转、改变颜色和图案、将矩形复制到另一个位置上等操作。这样，当使用该程序来绘制矩形时，它将根据类定义创建一个对象。该对象保存了描述矩形的所有数据值，因此可以使用类方法来修改该矩形。如果绘制两个矩形，程序将创建两个对象，每个矩形对应一个。 OOP程序设计方法首先设计类，它们准确地表示了程序要处理的东西。例如，绘图程序可能定义表示矩形、直线、圆、画刷、画笔的类。类定义描述了对每个类可执行的操作，如移动圆或旋转直线。然后您便可以设计一个使用这些类的对象的程序。从低级组织（如类）到高级组织（如程序）的处理过程叫做自下向上（bottom-up）的编程。 OOP编程并不仅仅是将数据和方法合并为类定义。例如，OOP还有助于创建可重用的代码，这将减少大量的工作。信息隐藏可以保护数据，使其免遭不适当的访问。多态让您能够为运算符和函数创建多个定义，通过编程上下文来确定使用哪个定义。继承让您能够使用旧类派生出新类。正如接下来将看到的那样，OOP引入了很多新的理念，使用的编程方法不同于过程性编程。它不是将重点放在任务上，而是放在表示概念上。有时不一定使用自上向下的编程方法，而是使用自下向上的编程方法。本书将通过大量易于掌握的示例帮助读者理解这些要点。 设计有用、可靠的类是一项艰巨的任务，幸运的是，OOP语言使程序员在编程中能够轻松地使用已有的类。厂商提供了大量有用的类库，包括设计用于简化Windows或Macintosh环境下编程的类库。<font color='red'>C++真正的优点之一是：可以方便地重用和修改现有的、经过仔细测试的代码。</font>

3. C++和泛型编程

    > 泛型编程（generic programming）是C++支持的另一种编程模式。<font color='red'>它与OOP的目标相同，即使重用代码和抽象通用概念的技术更简单。</font><font color='red'>不过OOP强调的是编程的数据方面，而泛型编程强调的是独立于特定数据类型。</font><font color='cornflowerblue'>它们的侧重点不同。</font><font color='cornflowerblue'>OOP是一个管理大型项目的工具，而泛型编程提供了执行常见任务</font>（如对数据排序或合并链表）<font color='cornflowerblue'>的工具。</font>术语泛型（generic）指的是<font color='orange'>创建独立于类型的代码。</font>C++的数据表示有多种类型——整数、小数、字符、字符串、用户定义的、由多种类型组成的复合结构。例如，要对不同类型的数据进行排序，通常必须为每种类型创建一个排序函数。泛型编程需要对语言进行扩展，以便可以只编写一个泛型（即不是特定类型的）函数，并将其用于各种实际类型。C++模板提供了完成这种任务的机制。

---

**起源：**

> ​	与C语言一样，C++也是在贝尔实验室诞生的，Bjarne Stroustrup于20世纪80年代在这里开发出了这种语言。用他自己的话来说，<font color='cornflowerblue'>“C++主要是为了我的朋友和我不必再使用汇编语言、C语言或其他现代高级语言来编程而设计的。它的主要功能是可以更方便地编写出好程序，让每个程序员更加快乐”</font>。

> ​	C++程序可以使用已有的C软件库。库是编程模块的集合，可以从程序中调用它们。库对很多常见的编程问题提供了可靠的解决方法，因此能节省程序员大量的时间和工作量。这也有助于C++的广泛传播。

> ​	名称C++来自C语言中的递增运算符++，该运算符将变量加1。名称C++表明，它是C的扩充版本。

> ​	<font color='red'>C++融合了OOP、泛型编程和传统的过程性方法，这表明C++强调的是实用价值，而不是意识形态方法，这也是该语言获得成功的原因之一。</font>